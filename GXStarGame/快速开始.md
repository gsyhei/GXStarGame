# 🚀 快速开始 - 星辰消消乐

## 📱 运行游戏

### 1. 打开项目
```bash
# 进入项目目录
cd /Users/gin/CursorWorkspace/GXStarGame

# 打开Xcode项目
open GXStarGame/GXStarGame.xcodeproj
```

### 2. 运行游戏
1. 在 Xcode 中选择目标设备（iPhone 模拟器或真机）
2. 点击运行按钮 ▶️ 或按 `Cmd + R`
3. 等待编译完成，游戏将自动启动

## 🎨 生成 App Icon

### 方法一：使用代码生成（推荐）

1. 打开 `AppDelegate.swift`
2. 在 `application(_:didFinishLaunchingWithOptions:)` 方法中添加：

```swift
func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
    
    #if DEBUG
    // 仅在调试模式下生成图标
    AppIconGenerator.generateIcons()
    #endif
    
    return true
}
```

3. 运行应用
4. 在 Xcode Console 中查看输出，会显示图标保存路径
5. 按照下面的步骤获取生成的图标

### 方法二：直接调用生成

在任意 `ViewController` 的 `viewDidLoad` 中临时添加：

```swift
override func viewDidLoad() {
    super.viewDidLoad()
    
    // 临时生成图标（记得用完删除）
    AppIconGenerator.generateIcons()
}
```

## 📥 获取生成的图标

### 在模拟器上
1. 运行应用后，Console 会显示保存路径，例如：
   ```
   📁 路径: /Users/你的用户名/Library/Developer/CoreSimulator/Devices/.../Documents
   ```
2. 直接在 Finder 中前往该路径
3. 找到所有 `AppIcon-*.png` 文件

### 在真机上
1. 连接 iPhone 到 Mac
2. 在 Xcode 菜单栏选择 `Window -> Devices and Simulators`
3. 选择你的设备
4. 在已安装的应用列表中找到 GXStarGame
5. 点击应用下方的 **⚙️ (设置)** 图标
6. 选择 **Download Container...**
7. 保存容器到本地
8. 右键点击下载的容器 -> **显示包内容**
9. 进入 `AppData/Documents/` 目录
10. 复制所有 `AppIcon-*.png` 文件

## 🎯 配置图标到项目

1. 在 Xcode 中打开项目
2. 在左侧导航栏找到 `Assets.xcassets`
3. 点击 `AppIcon`
4. 将生成的图标文件拖入对应的尺寸槽位：
   - `AppIcon-20x20.png` -> iPhone Notification 20pt 1x
   - `AppIcon-20x20@2x.png` -> iPhone Notification 20pt 2x
   - `AppIcon-20x20@3x.png` -> iPhone Notification 20pt 3x
   - `AppIcon-29x29.png` -> iPhone Settings 29pt 1x
   - `AppIcon-29x29@2x.png` -> iPhone Settings 29pt 2x
   - `AppIcon-29x29@3x.png` -> iPhone Settings 29pt 3x
   - `AppIcon-40x40.png` -> iPhone Spotlight 40pt 1x
   - `AppIcon-40x40@2x.png` -> iPhone Spotlight 40pt 2x
   - `AppIcon-40x40@3x.png` -> iPhone Spotlight 40pt 3x
   - `AppIcon-60x60@2x.png` -> iPhone App 60pt 2x
   - `AppIcon-60x60@3x.png` -> iPhone App 60pt 3x
   - `AppIcon-1024x1024.png` -> App Store 1024pt

5. 确保所有槽位都已填充
6. 重新运行应用，图标将显示在主屏幕

## 🎮 游戏玩法

### 基本操作
1. **点击第一个宝石** - 选中宝石（会有放大动画）
2. **点击相邻宝石** - 交换两个宝石
3. **形成3个或以上连线** - 自动消除并得分
4. **连锁反应** - 下落后自动检测新匹配

### 游戏规则
- 只能交换**相邻**的宝石（上下左右）
- 必须形成**3个或以上**同色连线才能消除
- 交换后如果没有匹配，会自动恢复
- 消除后宝石会下落，顶部会生成新宝石
- 无可用移动时游戏结束

### 得分规则
- 每消除1个宝石得 **10分**
- 连锁消除可以获得更多分数
- 分数更新时会有跳动动画

## ✨ 美化特性

### 启动页
- 紫色渐变背景
- 宝石logo（💎）
- 游戏标题和副标题
- 加载指示器

### 主界面
- 三色渐变背景（紫色主题）
- 玻璃质感分数面板
- 3D宝石效果
- 流畅的弹性动画

### 动画效果
- **选择**: 弹性放大 1.15倍
- **消除**: 爆炸式放大再缩小
- **下落**: 带弹性的下落效果
- **生成**: 旋转缩小弹出
- **分数**: 更新时面板跳动

## 🔧 自定义配置

### 修改游戏配置
编辑 `GameModels.swift` 中的 `GameConfig`：

```swift
struct GameConfig {
    static let rows = 8              // 行数（默认8）
    static let cols = 8              // 列数（默认8）
    static let gemSize: CGFloat = 40 // 宝石大小
    static let gemSpacing: CGFloat = 3 // 宝石间距
    static let minMatchCount = 3     // 最小匹配数
}
```

### 修改主题色
编辑 `ViewController.swift` 中的渐变色：

```swift
gradientLayer.colors = [
    UIColor(red: 0.4, green: 0.2, blue: 0.8, alpha: 1.0).cgColor, // 主紫色
    UIColor(red: 0.6, green: 0.3, blue: 1.0, alpha: 1.0).cgColor, // 中紫色
    UIColor(red: 0.8, green: 0.4, blue: 1.0, alpha: 1.0).cgColor  // 浅紫色
]
```

### 修改宝石颜色
编辑 `GameModels.swift` 中的 `GemType.color`：

```swift
var color: UIColor {
    switch self {
    case .red: return UIColor.systemRed
    case .blue: return UIColor.systemBlue
    // ... 修改为你喜欢的颜色
    }
}
```

## 📋 上架检查清单

### 准备工作
- [x] 游戏逻辑完整无bug
- [x] UI美化完成
- [x] 启动页设计
- [ ] App Icon配置完成
- [ ] 在真机上测试
- [ ] 准备App Store截图

### App Store资料
- [ ] 应用名称：星辰消消乐 / GX Star Game
- [ ] 应用描述（中文和英文）
- [ ] 关键词优化
- [ ] 隐私政策（如需要）
- [ ] 支持URL

### 截图要求
- iPhone 6.5" (1242 x 2688) - 至少3张
- iPhone 5.5" (1242 x 2208) - 至少3张  
- iPad Pro 12.9" (2048 x 2732) - 可选

建议截图内容：
1. 游戏主界面
2. 消除动画中的画面
3. 高分展示
4. 游戏结束界面

## ⚠️ 常见问题

### Q: 图标生成后在哪里？
A: 默认保存在应用的 Documents 目录，通过 Xcode 的 Devices 工具可以下载容器查看。

### Q: 如何在真机测试？
A: 
1. 连接 iPhone 到 Mac
2. 在 Xcode 中选择你的设备
3. 需要配置开发者证书（免费证书也可以）
4. 点击运行

### Q: 游戏卡顿怎么办？
A: 
- 确保在真机上测试（模拟器可能较慢）
- 检查是否开启了调试模式的图标生成
- 关闭不必要的动画

### Q: 如何关闭图标生成？
A: 删除或注释 `AppDelegate.swift` 中的 `AppIconGenerator.generateIcons()` 即可。

## 📞 技术支持

如有问题，请查看：
- [README.md](./README.md) - 项目完整说明
- [美化说明.md](./美化说明.md) - 详细美化文档
- [修复报告.md](./修复报告.md) - Bug修复记录

---

**祝你游戏开发顺利！** 🎉✨



